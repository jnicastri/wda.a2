<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="css/reset.css" />
		<link rel="stylesheet" type="text/css" href="css/global.css" />
		<link href="scripts/jquery-ui/jquery-ui.css" rel="stylesheet">
		<script src="scripts/jquery-ui/external/jquery/jquery.js"></script>
		<script src="scripts/jquery-ui/jquery-ui.js"></script>
		<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js"></script>
		<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/additional-methods.min.js"></script>
		<title>Create a new Listing: Auction House Online</title>
		<script>
			
			jQuery.validator.setDefaults({
			  debug: false,
			  success: "valid"
			});
			
			$(document).ready(function(){
				$("#newListingFrm").validate({
				  rules: {
					itemNameTb: "required",
					itemDescTa: "required",
					startTb: "required",
					endTb: "required",
					resAmtTb: "required",
					shipAmtTb: "required"
				},
				  messages: {
				  	itemNameTb: "Required field",
					itemDescTa: "Required field",
					startTb: "Required field",
					endTb: "Required field",
					resAmtTb: "Required field",
					shipAmtTb: "Required field"
				    } 
				});
			});
			
		</script>
	</head>
	<body>
		<div id="content-container">
			<!-- $include html/master-header.html -->
			<section id="main-content">
				<h2>Create a New Listing</h2>
				<hr />
				<!-- $BeginBlock UpdateError -->
				<div class="default-error">An error has occured. Please try again.</div>
				<!-- $EndBlock UpdateError -->
				<form id="newListingFrm" name="newListingFrm" method="POST" action="p_newlisting.php" enctype="multipart/form-data">
					<fieldset>
						<legend><h6>Item Details</h6></legend>
						<table class="form-tbl">
							<tr>
								<td><label>Item Name:</label></td>
								<td><input class="default-input-text" id="itemNameTb" name="itemNameTb" type="text" /></td>
								<td><label for="itemNameTb"></label></td>
							</tr>
							<tr>
								<td><label>Item Description:</label></td>
								<td><textarea class="default-input-text" id="itemDescTa" name="itemDescTa" rows="8" cols="24"></textarea></td>
								<td><label for="itemDescTa"></label></td>
							</tr>
							<tr>
								<td><label>Item Category:</label></td>
								<td>
									<select name="catSelect">
									<!-- $BeginBlock categorySel -->
									<option value="${c_id}">${c_name}</option>																																												
									<!-- $EndBlock categorySel -->
									</select>
								</td>
								<td><label for="catSelect"></label></td>
							</tr>
							<tr>
								<td><label>Primary Image Upload:</label></td>
								<td><input accept="image/*" type="file" name="imgUpload" id="imgUpload" />
								<td><label for="imgUpload"></label></td>
							</tr>
						</table>
					</fieldset>
					<hr />
					<fieldset>
						<legend><h6>Auction Details</h6></legend>
						<table class="form-tbl">
							<tr>
								<td><label>Start Date:</label></td>
								<td><input class="default-input-text" id="startTbDp" name="startTb" type="text" /></td>
								<td><label for="startTbDp"></label></td>
							</tr>
							<tr>
								<td><label>End Date:</label></td>
								<td><input class="default-input-text" id="endTbDp" name="endTb" type="text" /></td>
								<td><label for="endTbDp"></label></td>
							</tr>
							<tr>
								<td><label>Reserve Amount:</label></td>
								<td><input class="default-input-text" id="resAmtTb" name="resAmtTb" type="text" /></td>
								<td><label for="resAmtTb"></label></td>
							</tr>
							<tr>
								<td><label>Min. Bid Amount ($):</label></td>
								<td><input class="default-input-text" id="minBidSpnr" name="minBidAmtTb" type="text" /></td>
								<td><label for="minBidSpnr"></label></td>
							</tr>
							<tr>
								<td><label>Winning Shipping Cost ($):</label></td>
								<td><input class="default-input-text" id="shipAmtTb" name="shipAmtTb" type="text" /></td>
								<td><label for="shipAmtTb"></label></td>
							</tr>
						</table>
					</fieldset>
					<div >
						<input class="default-input-btn" type="submit" value="Create Listing" />
						<br />&nbsp;
					</div>
				</form>
			</section>
			<!-- $include html/master-footer.html -->
		</div>
		<script>
			$(function() {
			    var sDate = $("#startTbDp").datepicker({
								dateFormat: "dd-mm-yy"
							});
				var eDate = $("#endTbDp").datepicker({
								dateFormat: "dd-mm-yy"
							});
				var spin = $("#minBidSpnr").spinner({
								culture: "au",
								min: 1,
								numberFormat: "C"
							});
				spin.spinner("value", 1.00);
				sDate.datepicker("setDate", "+1d");
				eDate.datepicker("setDate", "+1m +1d");
			  });
		</script>
	</body>
</html>